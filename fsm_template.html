<html>

<script type="text/javascript" charset="utf-8" src='js/mootools.js'> </script>
<script type="text/javascript" charset="utf-8" src='jsninja.js'></script>

<style type="text/css" media="screen">
    .jst-target, .jst-target-url, .jst-data {
        visibility: hidden;
    }
    .jst-rendered {
        visibility: display;
    }
</style>

<script type="text/plain" charset="utf-8" class='jst-template' id='mybox-state-1'>
    State 1 <br>
    <a href='#' onclick='env.get('test').change_state("mybox-state-2"); return false;'>Switch to #2</a>
</script>

<script type="text/plain" charset="utf-8" class='jst-template' id='mybox-state-2'>
    State 2
    <a href='#' onclick='change_state_click("mybox-state-3"); return false;'>Switch to #3</a>
</script>

<script type="text/plain" charset="utf-8" class='jst-template' id='mybox-state-3'>
    State 3
    <a href='#' onclick='change_state_click("mybox-state-1"); return false;'>Switch to #1</a>
</script>

<body>
    
    <div id='my_target'>Load</div>
    
    <div id='jsninja_error_log'></div>
    
</body>


<script type="text/javascript" charset="utf-8">
    var env = new Environment();
    
    var r = new jsninja.WebRenderer();
    r.run();
    
    var test = new jsninja.StateTemplate('my_target', {
        'mybox-state-1':r.environment.get_template('mybox-state-1'),
        'mybox-state-2':r.environment.get_template('mybox-state-2'),
        'mybox-state-3':r.environment.get_template('mybox-state-3'),
    });

    env.register

    test.change_state('mybox-state-1');
    
    var change_state_click = function(new_state) {
        test.change_state(new_state);
    }
    
</script>


</html>